exports.id=119,exports.ids=[119],exports.modules={3222:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,8671,23)),Promise.resolve().then(c.t.bind(c,6542,23)),Promise.resolve().then(c.t.bind(c,8248,23)),Promise.resolve().then(c.t.bind(c,9743,23)),Promise.resolve().then(c.t.bind(c,6231,23)),Promise.resolve().then(c.t.bind(c,959,23)),Promise.resolve().then(c.t.bind(c,2041,23)),Promise.resolve().then(c.t.bind(c,5094,23)),Promise.resolve().then(c.t.bind(c,7487,23))},3391:(a,b,c)=>{"use strict";c.d(b,{DJ:()=>o,VB:()=>m,a2:()=>n,nj:()=>g,rn:()=>k});var d=c(1400),e=c(1528),f=c(1807);d.jn.sha512Sync=(...a)=>{let b=e.Zf.create();for(let c of a)b.update(c);return b.digest()};let g=f.My,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function i(a,b){let c=a<<5;if(b<24)return[c|b];if(b<256)return[24|c,b];if(b<65536)return[25|c,b>>8&255,255&b];if(b<0x100000000)return[26|c,b>>>24&255,b>>>16&255,b>>>8&255,255&b];let d=Math.floor(b/0x100000000),e=b>>>0;return[27|c,d>>>24&255,d>>>16&255,d>>>8&255,255&d,e>>>24&255,e>>>16&255,e>>>8&255,255&e]}function j(a){return new Uint8Array(function a(b){if(null==b)return[246];if("boolean"==typeof b)return[b?245:244];if("number"==typeof b){if(!Number.isInteger(b)||b<0)throw Error("only non-negative integers supported");return i(0,b)}if("string"==typeof b){let a=new TextEncoder().encode(b);return[...i(3,a.length),...a]}if(b instanceof Uint8Array)return[...i(2,b.length),...b];if(Array.isArray(b)){let c=i(4,b.length);for(let d of b)c.push(...a(d));return c}if("object"==typeof b){let c=Object.keys(b).sort(),d=i(5,c.length);for(let e of c)d.push(...a(e)),d.push(...a(b[e]));return d}throw Error(`unsupported CBOR type: ${typeof b}`)}(a))}async function k(){let a=crypto.getRandomValues(new Uint8Array(32)),b=await (0,d.lG)(a);return{privateKey:a,publicKey:b}}function l(a){return{v:a.v,kind:a.kind,from:a.from,ref:a.ref,body:a.body,sats:a.sats,ts:a.ts}}function m(a){var b;return g((b=j(l(a)),(0,e.sc)(b)))}async function n(a,b){let c=j(l(b)),e=await (0,d._S)(c,a);return{...b,sig:function(a){let b="";for(let c=0;c<a.length;c+=3){let d=a[c],e=a[c+1]??0,f=a[c+2]??0;b+=h[d>>2],b+=h[(3&d)<<4|e>>4],c+1<a.length?b+=h[(15&e)<<2|f>>6]:b+="=",c+2<a.length?b+=h[63&f]:b+="="}return b}(e)}}function o(a){return g(j(a))}},3527:(a,b,c)=>{"use strict";c.d(b,{IdentityChip:()=>f,KeyProvider:()=>e});var d=c(5459);(0,d.registerClientReference)(function(){throw Error("Attempted to call useIdentity() from the server but useIdentity is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/dev/code/dupenet/apps/web/src/components/KeyProvider.tsx","useIdentity");let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call KeyProvider() from the server but KeyProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/dev/code/dupenet/apps/web/src/components/KeyProvider.tsx","KeyProvider"),f=(0,d.registerClientReference)(function(){throw Error("Attempted to call IdentityChip() from the server but IdentityChip is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/dev/code/dupenet/apps/web/src/components/KeyProvider.tsx","IdentityChip")},4276:()=>{},5405:(a,b,c)=>{"use strict";c.d(b,{IdentityChip:()=>q,KeyProvider:()=>p,U:()=>o});var d=c(8157),e=c(1768),f=c(3391);let g="identity",h="default",i="dupenet_pubkey";function j(){return new Promise((a,b)=>{let c=indexedDB.open("dupenet",1);c.onupgradeneeded=()=>{c.result.createObjectStore(g)},c.onsuccess=()=>a(c.result),c.onerror=()=>b(c.error)})}async function k(){try{let a=await j();return new Promise((b,c)=>{let d=a.transaction(g,"readonly").objectStore(g).get(h);d.onsuccess=()=>b(d.result??null),d.onerror=()=>c(d.error)})}catch{return null}}async function l(a,b,c){let d=await j();await new Promise((e,f)=>{let i=d.transaction(g,"readwrite").objectStore(g),j={privateKey:a,publicKey:b,publicKeyHex:c,createdAt:Date.now()},k=i.put(j,h);k.onsuccess=()=>e(),k.onerror=()=>f(k.error)});try{localStorage.setItem(i,c)}catch{}}async function m(){try{let a=await j();await new Promise((b,c)=>{let d=a.transaction(g,"readwrite").objectStore(g).delete(h);d.onsuccess=()=>b(),d.onerror=()=>c(d.error)})}catch{}try{localStorage.removeItem(i)}catch{}}let n=(0,e.createContext)({publicKeyHex:null,loading:!0,generate:async()=>{},getPrivateKey:async()=>null,clear:async()=>{}});function o(){return(0,e.useContext)(n)}function p({children:a}){let[b,c]=(0,e.useState)(null),[g,h]=(0,e.useState)(!0),i=(0,e.useCallback)(async()=>{let a=await (0,f.rn)(),b=(0,f.nj)(a.publicKey);await l(a.privateKey,a.publicKey,b),c(b)},[]),j=(0,e.useCallback)(async()=>{let a=await k();return a?.privateKey??null},[]),o=(0,e.useCallback)(async()=>{await m(),c(null)},[]);return(0,d.jsx)(n.Provider,{value:{publicKeyHex:b,loading:g,generate:i,getPrivateKey:j,clear:o},children:a})}function q(){let{publicKeyHex:a,loading:b,generate:c,clear:e}=o();if(b)return(0,d.jsx)("span",{className:"t",children:"..."});if(!a)return(0,d.jsx)("button",{onClick:c,className:"link-btn",children:"[generate identity]"});let f=a.slice(0,4)+".."+a.slice(-4);return(0,d.jsxs)("span",{children:[(0,d.jsx)("span",{className:"t",title:a,children:f})," ",(0,d.jsx)("button",{onClick:e,className:"link-btn t",title:"clear identity",children:"x"})]})}},5565:(a,b,c)=>{Promise.resolve().then(c.bind(c,5405))},6782:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,8365,23)),Promise.resolve().then(c.t.bind(c,4596,23)),Promise.resolve().then(c.t.bind(c,6186,23)),Promise.resolve().then(c.t.bind(c,7805,23)),Promise.resolve().then(c.t.bind(c,7561,23)),Promise.resolve().then(c.t.bind(c,7569,23)),Promise.resolve().then(c.t.bind(c,2747,23)),Promise.resolve().then(c.t.bind(c,6676,23)),Promise.resolve().then(c.bind(c,7225))},7005:(a,b,c)=>{Promise.resolve().then(c.bind(c,3527))},7570:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>g,metadata:()=>f});var d=c(5939),e=c(3527);c(4276);let f={title:"dupenet",description:"content ranked by economic commitment"};function g({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{children:(0,d.jsx)(e.KeyProvider,{children:a})})})}},9902:(a,b,c)=>{"use strict";c.d(b,{Ev:()=>l,NG:()=>o,Ti:()=>r,XS:()=>m,aN:()=>k,d_:()=>j,fF:()=>q,fG:()=>i,fz:()=>e,kQ:()=>h,pe:()=>g,qw:()=>p,w8:()=>n});let d=process.env.COORDINATOR_URL??"http://localhost:3102",e=process.env.GATEWAY_URL??"http://localhost:3100";async function f(a){try{let b=await fetch(`${d}${a}`,{next:{revalidate:30}});if(!b.ok)return null;return await b.json()}catch{return null}}async function g(a=0,b=100){let c=await f(`/feed/funded?min_balance=${a}&limit=${b}`);return c?.items??[]}async function h(a){let b=new URLSearchParams;a.ref&&b.set("ref",a.ref),void 0!==a.kind&&b.set("kind",String(a.kind)),a.from&&b.set("from",a.from),a.limit&&b.set("limit",String(a.limit));let c=await f(`/events?${b}`);return c?.events??[]}async function i(a){return f(`/thread/${a}`)}async function j(a){return await f(`/bounty/${a}`)??{balance:0,last_payout_epoch:0}}async function k(){let a=await f("/directory");return a?.hosts??[]}async function l(a){let b=await f(`/epoch/summary/${a}`);return b?.summaries??[]}async function m(a){return await f(`/content/${a}/stats`)??{balance:0,total_funded:0,funder_count:0,host_count:0,last_payout_epoch:0,recent:[]}}function n(a){return a.length<=12?a:`${a.slice(0,4)}..${a.slice(-4)}`}function o(a){let b=String(Math.abs(Math.round(a))).padStart(9,"0"),c=b.length-8;return b.slice(0,c)+"."+b.slice(c)}function p(a){return new Date(a).toISOString().slice(0,10)}function q(a){let b=Math.floor((Date.now()-a)/1e3);if(b<60)return`${b}s`;let c=Math.floor(b/60);if(c<60)return`${c}m`;let d=Math.floor(c/60);if(d<24)return`${d}h`;let e=Math.floor(d/24);if(e<7)return`${e}d`;let f=Math.floor(e/7);return`${f}w`}function r(a,b){if(0===b||0===a)return"-";let c=.02*a*180;if(0===c)return"-";let d=Math.floor(a/c);return d>99?"99+":String(d)}}};